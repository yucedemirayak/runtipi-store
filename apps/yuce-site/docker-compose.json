{
  "services": [
    {
      "name": "yuce-site",
      "image": "node:20-alpine",
      "isMain": true,
      "internalPort": 3000,
      "command": ["/bin/sh", "/scripts/bootstrap.sh"],
      "addPorts": [
        {
          "hostPort": "${TIPI_YUCE_SITE_WEBHOOK_PORT}",
          "containerPort": 5000,
          "tcp": true
        }
      ],
      "environment": [
        {
          "key": "TZ",
          "value": "${TZ}"
        },
        {
          "key": "NODE_ENV",
          "value": "${TIPI_YUCE_SITE_NODE_ENV}"
        },
        {
          "key": "GITHUB_TOKEN",
          "value": "${TIPI_YUCE_SITE_GITHUB_TOKEN}"
        },
        {
          "key": "WEBHOOK_SECRET",
          "value": "${TIPI_YUCE_SITE_WEBHOOK_SECRET}"
        },
        {
          "key": "REPO_URL",
          "value": "${TIPI_YUCE_SITE_REPO_URL}"
        },
        {
          "key": "REPO_BRANCH",
          "value": "${TIPI_YUCE_SITE_REPO_BRANCH}"
        },
        {
          "key": "APP_START_CMD",
          "value": "${TIPI_YUCE_SITE_START_CMD}"
        }
      ],
      "volumes": [
        {
          "hostPath": "${APP_DATA_DIR}/site",
          "containerPath": "/home/site"
        },
        {
          "hostPath": "./scripts",
          "containerPath": "/scripts",
          "readOnly": true
        }
      ]
    }
  ],
  "schemaVersion": 2,
  "$schema": "https://schemas.runtipi.io/v2/dynamic-compose.json"
}
